/**
 * Generated by orval v6.31.0 üç∫
 * Do not edit manually.
 * OpenAPI definition
 * OpenAPI spec version: v0
 */
import { faker } from "@faker-js/faker";
import { http, HttpResponse, delay } from "msw";
import type { DojoApiResponseMemberCreateResponse } from ".././model";

export const getCreateResponseMock = (
  overrideResponse: Partial<DojoApiResponseMemberCreateResponse> = {},
): DojoApiResponseMemberCreateResponse => ({
  data: faker.helpers.arrayElement([{ id: faker.word.sample() }, undefined]),
  error: faker.helpers.arrayElement([
    {
      code: faker.word.sample(),
      message: faker.helpers.arrayElement([faker.word.sample(), undefined]),
    },
    undefined,
  ]),
  success: faker.datatype.boolean(),
  ...overrideResponse,
});

export const getCreateMockHandler = (
  overrideResponse?:
    | DojoApiResponseMemberCreateResponse
    | ((
        info: Parameters<Parameters<typeof http.post>[1]>[0],
      ) =>
        | Promise<DojoApiResponseMemberCreateResponse>
        | DojoApiResponseMemberCreateResponse),
) => {
  return http.post(
    "http://dojo-backend-eb-env.eba-33qhzuax.ap-northeast-2.elasticbeanstalk.com/member",
    async (info) => {
      await delay(1000);
      return new HttpResponse(
        JSON.stringify(
          overrideResponse !== undefined
            ? typeof overrideResponse === "function"
              ? await overrideResponse(info)
              : overrideResponse
            : getCreateResponseMock(),
        ),
        {
          status: 200,
          headers: {
            "Content-Type": "application/json",
          },
        },
      );
    },
  );
};
export const getMemberMock = () => [getCreateMockHandler()];
